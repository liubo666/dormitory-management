import{a as e}from"./element-CivdSU1D.js";class r{static handleApiError(r,o="操作失败"){var s,a,n;let t=o;return r&&("string"==typeof r?t=r:r.message?t=r.message:(null==(s=r.data)?void 0:s.message)?t=r.data.message:(null==(n=null==(a=r.response)?void 0:a.data)?void 0:n.message)&&(t=r.response.data.message)),e.error(t),t}static handleValidationError(r,o="表单验证失败"){let s=o;return r&&("string"==typeof r?s=r:r.message&&(s=r.message)),e.error(s),s}static handleNetworkError(r){var o;let s="网络连接失败，请检查网络设置";return"ECONNABORTED"===(null==r?void 0:r.code)?s="请求超时，请稍后重试":(null==(o=null==r?void 0:r.message)?void 0:o.includes("Network Error"))?s="网络连接失败，请检查网络设置":(null==r?void 0:r.message)&&(s=r.message),e.error(s),s}static handleAuthError(r){let o="权限验证失败";return r&&("string"==typeof r?o=r:r.message&&(o=r.message)),e.error(o),(o.includes("未授权")||o.includes("登录已过期"))&&(localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("refreshToken"),window.location.href="/login"),o}static showSuccess(r){e.success(r)}static showWarning(r){e.warning(r)}static showInfo(r){e.info(r)}}function o(){return{handleError:r.handleApiError,handleValidationError:r.handleValidationError,handleNetworkError:r.handleNetworkError,handleAuthError:r.handleAuthError,showSuccess:r.showSuccess,showWarning:r.showWarning,showInfo:r.showInfo}}export{o as u};
