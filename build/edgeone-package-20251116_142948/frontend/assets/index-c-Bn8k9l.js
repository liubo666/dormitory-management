import{u as e}from"./index-BbXepoDv.js";/* empty css                 */import{_ as a}from"./_plugin-vue_export-helper-g1HmYxY9.js";import{y as s,r as l,l as r,z as o,B as i,R as n,J as t,u as d,ah as m,aB as p,A as u}from"./vendor-D1RP7qex.js";import{_ as g}from"./logo-placeholder-BJ7lI4wk.js";import{c,d as f,u as h,l as w,e as y,f as _,a as x}from"./element-CivdSU1D.js";import"./utils-BstTJ5dP.js";const b={class:"login-container"},v={class:"login-form"},j={key:0},V={key:1},k=a(s({__name:"index",setup(a){const s=p(),k=x,z=e(),q=l(),B=r({username:"admin",password:"123456"}),D={username:[{required:!0,message:"请输入用户名",trigger:["blur","change"]},{min:2,max:20,message:"用户名长度应在2-20个字符之间",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{min:6,max:20,message:"密码长度应在6-20个字符之间",trigger:["blur","change"]}]},M=async()=>{if(q.value)try{await q.value.validate();await z.handleLogin({username:B.username,password:B.password})&&(k.success("登录成功！欢迎进入宿舍管理系统"),s.push("/"))}catch(e){e.message&&k.error(e.message)}};return(e,a)=>{const s=f,l=c,r=y,p=_;return u(),o("div",b,[i("div",v,[a[2]||(a[2]=i("div",{class:"login-header"},[i("div",{class:"school-logo"},[i("img",{src:g,alt:"宿舍管理系统",width:"48",height:"48"})]),i("h1",null,"宿舍管理系统"),i("p",null,"Dormitory Management System")],-1)),n(p,{ref_key:"formRef",ref:q,model:B,rules:D,size:"large","label-position":"top","label-width":"80px",onKeyup:m(M,["enter"])},{default:t(()=>[n(l,{label:"用户名",prop:"username"},{default:t(()=>[n(s,{modelValue:B.username,"onUpdate:modelValue":a[0]||(a[0]=e=>B.username=e),placeholder:"请输入用户名","prefix-icon":d(h),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),n(l,{label:"密码",prop:"password"},{default:t(()=>[n(s,{modelValue:B.password,"onUpdate:modelValue":a[1]||(a[1]=e=>B.password=e),type:"password",placeholder:"请输入密码","prefix-icon":d(w),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),n(l,null,{default:t(()=>[n(r,{type:"primary",size:"large",loading:d(z).loading,onClick:M,style:{width:"100%",height:"45px"}},{default:t(()=>[d(z).loading?(u(),o("span",V,"登录中...")):(u(),o("span",j,"登录系统"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a[3]||(a[3]=i("div",{class:"login-footer"},[i("p",null,"学生宿舍管理平台 | Student Dormitory Management")],-1))])])}}}),[["__scopeId","data-v-1dd6db67"]]);export{k as default};
