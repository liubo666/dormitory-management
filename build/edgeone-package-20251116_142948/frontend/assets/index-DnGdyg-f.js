import{u as a}from"./index-BbXepoDv.js";/* empty css                     */import{_ as e}from"./_plugin-vue_export-helper-g1HmYxY9.js";import{_ as l}from"./logo-placeholder-BJ7lI4wk.js";import{y as t,r as s,j as u,aC as n,z as d,R as i,J as o,B as r,O as c,u as f,P as _,al as p,I as m,aB as v,A as g}from"./vendor-D1RP7qex.js";import{g as h,h as x,j as y,u as w,k as j,m as k,n as B,s as C,o as I,p as b,q as z,r as q,t as A,v as T,w as D,x as F,y as G,z as H,A as J,B as L,C as O,D as P,F as R,G as S,a as U}from"./element-CivdSU1D.js";import"./utils-BstTJ5dP.js";const $={class:"layout-container"},E={class:"header-right"},K={class:"user-info"},M={class:"username"},N={class:"content-wrapper"},Q=e(t({__name:"index",setup(e){const t=v(),Q=n(),V=a(),W=s(!1),X=s(""),Y=a=>{t.push(`/${a}`)},Z=async a=>{if("logout"===a)try{await S.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await V.handleLogout(),U.success("已退出登录"),t.push("/login")}catch(e){"cancel"!==e&&U.error(e.message||"退出登录失败")}else"settings"===a&&t.push("/settings")};return u(async()=>{await V.initUserInfo();const a=Q.path.replace("/","");a&&(X.value=a)}),(a,e)=>{const t=y,s=x,u=B,n=k,v=h,S=b,U=A,Q=p("House"),aa=q,ea=z,la=p("router-view"),ta=P,sa=R;return g(),d("div",$,[i(S,{class:"layout-header"},{default:o(()=>[e[3]||(e[3]=r("div",{class:"header-left"},[r("h2",{class:"logo"},[r("img",{src:l,alt:"宿舍管理系统",width:"24",height:"24",style:{"margin-right":"8px"}}),c(" 宿舍管理系统 ")])],-1)),r("div",E,[i(v,{trigger:"hover",onCommand:Z},{dropdown:o(()=>[i(n,null,{default:o(()=>[i(u,{command:"settings"},{default:o(()=>[i(t,null,{default:o(()=>[i(f(C))]),_:1}),e[1]||(e[1]=c(" 个人设置 ",-1))]),_:1}),i(u,{divided:"",command:"logout"},{default:o(()=>[i(t,null,{default:o(()=>[i(f(I))]),_:1}),e[2]||(e[2]=c(" 退出登录 ",-1))]),_:1})]),_:1})]),default:o(()=>{var a;return[r("div",K,[i(s,{size:32,style:{"background-color":"#1e40af"}},{default:o(()=>[i(t,null,{default:o(()=>[i(f(w))]),_:1})]),_:1}),r("span",M,_((null==(a=f(V).userInfo)?void 0:a.name)||"管理员"),1),i(t,null,{default:o(()=>[i(f(j))]),_:1})])]}),_:1})])]),_:1}),i(sa,{class:"layout-main"},{default:o(()=>[i(ea,{width:W.value?"64px":"240px",class:"layout-aside"},{default:o(()=>[i(aa,{"default-active":X.value,collapse:W.value,"collapse-transition":!1,"unique-opened":"",onSelect:Y},{default:o(()=>[i(U,{index:"dashboard"},{title:o(()=>[...e[4]||(e[4]=[c("首页",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(T))]),_:1})]),_:1}),i(U,{index:"dormitory"},{title:o(()=>[...e[5]||(e[5]=[c("宿舍与楼栋管理",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(Q)]),_:1})]),_:1}),i(U,{index:"student"},{title:o(()=>[...e[6]||(e[6]=[c("学生管理",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(w))]),_:1})]),_:1}),i(U,{index:"checkin"},{title:o(()=>[...e[7]||(e[7]=[c("入住管理",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(D))]),_:1})]),_:1}),i(U,{index:"repair"},{title:o(()=>[...e[8]||(e[8]=[c("报修管理",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(F))]),_:1})]),_:1}),i(U,{index:"inspection"},{title:o(()=>[...e[9]||(e[9]=[c("卫生检查",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(G))]),_:1})]),_:1}),i(U,{index:"visitor"},{title:o(()=>[...e[10]||(e[10]=[c("访客登记",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(H))]),_:1})]),_:1}),i(U,{index:"fee"},{title:o(()=>[...e[11]||(e[11]=[c("费用管理",-1)])]),default:o(()=>[i(t,null,{default:o(()=>[i(f(J))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"]),r("div",{class:"collapse-trigger",onClick:e[0]||(e[0]=a=>W.value=!W.value)},[i(t,null,{default:o(()=>[W.value?(g(),m(f(L),{key:0})):(g(),m(f(O),{key:1}))]),_:1})])]),_:1},8,["width"]),i(ta,{class:"layout-content"},{default:o(()=>[r("div",N,[i(la)])]),_:1})]),_:1})])}}}),[["__scopeId","data-v-5d12d750"]]);export{Q as default};
