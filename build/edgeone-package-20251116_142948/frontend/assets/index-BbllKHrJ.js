import{s}from"./index-BbXepoDv.js";/* empty css                */import{_ as a}from"./_plugin-vue_export-helper-g1HmYxY9.js";/* empty css               */import{H as t,j as l,I as e,J as i,u as d,K as c,L as n,M as u,N as o,z as v,O as r,P as p,Q as m,e as f}from"./element-CivdSU1D.js";import{y as _,r as b,j as y,z as h,B as S,K as x,L as z,P as j,R as g,J as k,u as F,O as R,A as w}from"./vendor-D1RP7qex.js";import"./utils-BstTJ5dP.js";const I={class:"dashboard"},A={class:"dashboard-header"},L={key:0},O={class:"stats-grid"},V={class:"stat-content"},C={class:"stat-icon primary-icon"},J={class:"stat-info"},K={class:"stat-number primary-number"},N={class:"secondary-stats"},P={class:"stat-content"},T={class:"stat-icon success-icon"},B={class:"stat-info"},D={class:"stat-number"},H={class:"stat-content"},M={class:"stat-icon warning-icon"},Q={class:"stat-info"},$={class:"stat-number"},q={class:"stat-content"},E={class:"stat-icon info-icon"},G={class:"stat-info"},U={class:"stat-number"},W={key:0,class:"extended-stats"},X={class:"card-header"},Y={class:"card-content"},Z={class:"stat-item"},ss={class:"value"},as={class:"stat-item"},ts={class:"value"},ls={class:"stat-item"},es={class:"value"},is={class:"card-header"},ds={class:"card-content"},cs={class:"stat-item"},ns={class:"value"},us={class:"stat-item"},os={class:"value"},vs={class:"stat-item"},rs={class:"value"},ps={class:"card-header"},ms={class:"card-content"},fs={class:"stat-item"},_s={class:"value"},bs={class:"stat-item"},ys={class:"value"},hs={class:"stat-item"},Ss={class:"value"},xs={class:"action-area"},zs=a(_({__name:"index",setup(a){const _=b(!1),zs=b(null),js=async()=>{try{_.value=!0;const a=await s({url:"/api/statistics/overall",method:"get"});zs.value=a}catch(a){}finally{_.value=!1}};return y(()=>{js()}),(s,a)=>{const b=l,y=i,js=u,gs=p,ks=f,Fs=t;return w(),h("div",I,[S("div",A,[a[1]||(a[1]=S("h1",null,"欢迎使用宿舍管理系统",-1)),zs.value&&zs.value.statisticsTime?(w(),h("p",L," 数据更新时间："+j((Rs=zs.value.statisticsTime,Rs?new Date(Rs).toLocaleString("zh-CN"):"")),1)):z("",!0)]),x((w(),h("div",O,[g(y,{class:"stat-card primary-card"},{default:k(()=>{var s,t;return[S("div",V,[S("div",C,[g(b,{size:"32"},{default:k(()=>[g(F(e))]),_:1})]),S("div",J,[S("div",K,j((null==(t=null==(s=zs.value)?void 0:s.studentStatistics)?void 0:t.totalStudents)||0),1),a[2]||(a[2]=S("div",{class:"stat-label"},"学生总数",-1)),a[3]||(a[3]=S("div",{class:"stat-description"},"系统注册学生",-1))])])]}),_:1}),S("div",N,[g(y,{class:"stat-card secondary-card"},{default:k(()=>{var s,t;return[S("div",P,[S("div",T,[g(b,{size:"20"},{default:k(()=>[g(F(d))]),_:1})]),S("div",B,[S("div",D,j((null==(t=null==(s=zs.value)?void 0:s.studentStatistics)?void 0:t.checkedInStudents)||0),1),a[4]||(a[4]=S("div",{class:"stat-label"},"入住学生",-1))])])]}),_:1}),g(y,{class:"stat-card secondary-card"},{default:k(()=>{var s,t;return[S("div",H,[S("div",M,[g(b,{size:"20"},{default:k(()=>[g(F(c))]),_:1})]),S("div",Q,[S("div",$,j((null==(t=null==(s=zs.value)?void 0:s.dormitoryStatistics)?void 0:t.totalRooms)||0),1),a[5]||(a[5]=S("div",{class:"stat-label"},"宿舍房间",-1))])])]}),_:1}),g(y,{class:"stat-card secondary-card"},{default:k(()=>{var s,t;return[S("div",q,[S("div",E,[g(b,{size:"20"},{default:k(()=>[g(F(n))]),_:1})]),S("div",G,[S("div",U,j(((null==(t=null==(s=zs.value)?void 0:s.dormitoryStatistics)?void 0:t.occupancyRate)||0).toFixed(1))+"%",1),a[6]||(a[6]=S("div",{class:"stat-label"},"入住率",-1))])])]}),_:1})])])),[[Fs,_.value]]),zs.value?x((w(),h("div",W,[g(gs,{gutter:16},{default:k(()=>[g(js,{span:8},{default:k(()=>[g(y,{class:"extended-card"},{default:k(()=>{var s,t,l,e,i,d;return[S("div",X,[a[7]||(a[7]=S("h3",null,"费用统计",-1)),g(b,{size:"16",color:"#10b981"},{default:k(()=>[g(F(o))]),_:1})]),S("div",Y,[S("div",Z,[a[8]||(a[8]=S("span",{class:"label"},"总费用：",-1)),S("span",ss,"¥"+j(((null==(t=null==(s=zs.value)?void 0:s.feeStatistics)?void 0:t.totalAmount)||0).toFixed(2)),1)]),S("div",as,[a[9]||(a[9]=S("span",{class:"label"},"已收费：",-1)),S("span",ts,"¥"+j(((null==(e=null==(l=zs.value)?void 0:l.feeStatistics)?void 0:e.paidAmount)||0).toFixed(2)),1)]),S("div",ls,[a[10]||(a[10]=S("span",{class:"label"},"收费率：",-1)),S("span",es,j(((null==(d=null==(i=zs.value)?void 0:i.feeStatistics)?void 0:d.collectionRate)||0).toFixed(1))+"%",1)])])]}),_:1})]),_:1}),g(js,{span:8},{default:k(()=>[g(y,{class:"extended-card"},{default:k(()=>{var s,t,l,e,i,d;return[S("div",is,[a[11]||(a[11]=S("h3",null,"访客统计",-1)),g(b,{size:"16",color:"#8b5cf6"},{default:k(()=>[g(F(v))]),_:1})]),S("div",ds,[S("div",cs,[a[12]||(a[12]=S("span",{class:"label"},"今日访客：",-1)),S("span",ns,j((null==(t=null==(s=zs.value)?void 0:s.visitorStatistics)?void 0:t.todayVisitors)||0),1)]),S("div",us,[a[13]||(a[13]=S("span",{class:"label"},"本周访客：",-1)),S("span",os,j((null==(e=null==(l=zs.value)?void 0:l.visitorStatistics)?void 0:e.weeklyVisitors)||0),1)]),S("div",vs,[a[14]||(a[14]=S("span",{class:"label"},"本月访客：",-1)),S("span",rs,j((null==(d=null==(i=zs.value)?void 0:i.visitorStatistics)?void 0:d.monthlyVisitors)||0),1)])])]}),_:1})]),_:1}),g(js,{span:8},{default:k(()=>[g(y,{class:"extended-card"},{default:k(()=>{var s,t,l,e,i,d;return[S("div",ps,[a[15]||(a[15]=S("h3",null,"学生状态",-1)),g(b,{size:"16",color:"#f59e0b"},{default:k(()=>[g(F(r))]),_:1})]),S("div",ms,[S("div",fs,[a[16]||(a[16]=S("span",{class:"label"},"申请中：",-1)),S("span",_s,j((null==(t=null==(s=zs.value)?void 0:s.studentStatistics)?void 0:t.applyingStudents)||0),1)]),S("div",bs,[a[17]||(a[17]=S("span",{class:"label"},"已退宿：",-1)),S("span",ys,j((null==(e=null==(l=zs.value)?void 0:l.studentStatistics)?void 0:e.checkedOutStudents)||0),1)]),S("div",hs,[a[18]||(a[18]=S("span",{class:"label"},"入住率：",-1)),S("span",Ss,j(((null==(d=null==(i=zs.value)?void 0:i.studentStatistics)?void 0:d.checkInRate)||0).toFixed(1))+"%",1)])])]}),_:1})]),_:1})]),_:1})])),[[Fs,_.value]]):z("",!0),S("div",xs,[g(ks,{type:"primary",size:"large",onClick:a[0]||(a[0]=a=>s.$router.push("/dormitory"))},{default:k(()=>[g(b,null,{default:k(()=>[g(F(m))]),_:1}),a[19]||(a[19]=R(" 进入宿舍与楼栋管理 ",-1))]),_:1})])]);var Rs}}}),[["__scopeId","data-v-1e7fb83c"]]);export{zs as default};
