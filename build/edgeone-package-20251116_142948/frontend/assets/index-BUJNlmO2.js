import{r as e}from"./index-BbXepoDv.js";/* empty css                *//* empty css                             *//* empty css                       *//* empty css                        *//* empty css                 *//* empty css                     *//* empty css                             */import{_ as a}from"./_plugin-vue_export-helper-g1HmYxY9.js";import{K as l,j as t,R as u,e as o,ac as n,y as d,z as s,ad as r,J as i,f as c,c as v,d as p,T as m,U as f,ab as h,V as b,W as g,ae as _,H as y,X as k,Y as w,Z as V,$ as x,af as N,a3 as C,ag as I,a4 as R,ah as j,ai as z,a5 as D,a6 as U,a as T,G as Y,a7 as $}from"./element-CivdSU1D.js";import{y as M,r as B,l as S,j as q,z as F,B as L,R as O,O as P,J as E,u as G,P as H,K as A,I as J,L as K,Q,a5 as W,A as X}from"./vendor-D1RP7qex.js";import"./utils-BstTJ5dP.js";function Z(a){return e.post("/check-in/approve",a)}function ee(a){return e.post("/check-in/batch-approve",a)}const ae={class:"checkin-management"},le={class:"page-header"},te={class:"page-title"},ue={class:"page-actions"},oe={class:"stats-container"},ne={class:"stats-grid"},de={class:"stat-card"},se={class:"stats-icon applying"},re={class:"stats-info"},ie={class:"stats-number"},ce={class:"stat-card"},ve={class:"stats-icon checked-in"},pe={class:"stats-info"},me={class:"stats-number"},fe={class:"stat-card"},he={class:"stats-icon rejected"},be={class:"stats-info"},ge={class:"stats-number"},_e={class:"search-container"},ye={class:"table-container"},ke={class:"table-header"},we={class:"table-title"},Ve={class:"table-count"},xe={class:"table-actions"},Ne={class:"pagination-container"},Ce={class:"dialog-footer"},Ie={class:"dialog-footer"},Re={class:"dialog-footer"},je={class:"dialog-footer"},ze={class:"dialog-footer"},De=a(M({__name:"index",setup(a){const M=B(!1),De=B(!1),Ue=B(!1),Te=B([]),Ye=B([]),$e=B(null),Me=B({totalCount:0,applyingCount:0,checkedInCount:0,checkedOutCount:0,rejectedCount:0}),Be=S({studentName:"",studentNo:"",roomNo:"",status:void 0,checkInStartDate:"",checkInEndDate:"",current:1,size:10}),Se=S({current:1,size:10,total:0}),qe=B([]),Fe=B([]),Le=B([]),Oe=B(!1),Pe=B(!1),Ee=B(!1),Ge=B(!1),He=B(!1),Ae=B(),Je=B(),Ke=B(),Qe=B(),We=S({studentId:"",dormitoryId:"",bedId:"",bedNo:"",buildingName:"",roomNo:"",checkInDate:"",applicationReason:""}),Xe=S({status:2,approvalRemark:""}),Ze=S({approvalRemark:""}),ea=S({checkoutReason:""}),aa=B([]),la={studentId:[{required:!0,message:"请选择学生",trigger:"change"}],bedId:[{required:!0,message:"请选择床位",trigger:"change"}],checkInDate:[{required:!0,message:"请选择入住日期",trigger:"change"}]},ta={status:[{required:!0,message:"请选择审批结果",trigger:"change"}]},ua=e=>{switch(e){case 1:return"warning";case 2:return"success";case 3:default:return"info";case 4:return"danger"}},oa=async()=>{M.value=!0;try{const a={...Be,current:Se.current,size:Se.size,checkInStartDate:qe.value[0]||"",checkInEndDate:qe.value[1]||""},l=await function(a){return e.post("/check-in/page",a)}(a);Te.value=l.records,Se.total=l.total}catch(a){T.error("获取数据失败")}finally{M.value=!1}},na=async()=>{try{const a=await e.get("/check-in/statistics");Me.value=a}catch(a){T.error("获取统计数据失败")}},da=async a=>{Ue.value=!0;try{const l={pageIndex:1,pageSize:50,keyword:a},t=await function(a){return e.post("/check-in/available-students",a||{})}(l);aa.value=t.records.map(e=>({label:`${e.name} (${e.studentNo}) - ${e.college}${e.major}`,value:e.id}))}catch(l){T.error("获取学生列表失败"),aa.value=[]}finally{Ue.value=!1}},sa=async()=>{try{const a=await function(a=""){return e.get("/check-in/available-beds",{params:{keyword:a}})}("");Le.value=a.map(e=>({value:e.dormitoryId,label:`${e.buildingName} - ${e.roomNo}`,children:e.bedList.length>0?e.bedList.map(e=>({value:e.bedId,label:e.bedNo})):[]}))}catch(a){T.error("获取可用床位失败")}},ra=e=>{if(e&&2===e.length){We.dormitoryId=e[0],We.bedId=e[1];const a=Le.value.find(a=>a.value===e[0]);if(a&&a.children){const l=a.children.find(a=>a.value===e[1]);if(l){We.bedNo=l.label;const e=a.label.split(" - ");e.length>=2&&(We.buildingName=e[0],We.roomNo=e[1])}}}else We.bedId="",We.dormitoryId="",We.bedNo="",We.buildingName="",We.roomNo=""},ia=()=>{Se.current=1,oa()},ca=()=>{Object.assign(Be,{studentName:"",studentNo:"",roomNo:"",status:void 0,checkInStartDate:"",checkInEndDate:"",current:1,size:10}),qe.value=[],Se.current=1,oa()},va=e=>{Se.size=e,Se.current=1,oa()},pa=e=>{Se.current=e,oa()},ma=e=>{Ye.value=e},fa=async()=>{Ae.value&&await Ae.value.validate(async a=>{if(a){De.value=!0;try{await(l=We,e.post("/check-in/application",l)),T.success("申请提交成功"),Oe.value=!1,Object.assign(We,{studentId:"",dormitoryId:"",bedId:"",bedNo:"",buildingName:"",roomNo:"",checkInDate:"",applicationReason:""}),Fe.value=[],oa(),na()}catch(t){let e="申请提交失败";if(t&&t.response&&t.response.data){const a=t.response.data;a.message?e=a.message:a.msg&&(e=a.msg)}else t&&t.message&&(e=t.message);T.error(e)}finally{De.value=!1}}var l})},ha=async()=>{$e.value&&Je.value&&await Je.value.validate(async e=>{if(e){if(De.value=!0,!$e.value)return void T.warning("请选择需要分配的记录");try{const e={id:$e.value.id,status:Xe.status,approvalRemark:Xe.approvalRemark};await Z(e),T.success("审批成功"),Pe.value=!1,oa(),na()}catch(a){T.error("审批失败")}finally{De.value=!1}}})},ba=async()=>{if($e.value){De.value=!0;try{const e={id:$e.value.id,status:2,approvalRemark:Ze.approvalRemark||"审批通过"};await Z(e),T.success("审批通过成功"),Ee.value=!1,oa(),na()}catch(e){T.error("审批通过失败")}finally{De.value=!1}}},ga=async()=>{if($e.value){De.value=!0;try{await(a=$e.value.id,l=ea.checkoutReason,e.put(`/check-in/${a}/checkout`,null,{params:{checkoutReason:l}})),T.success("退宿成功"),Ge.value=!1,oa(),na()}catch(t){T.error("退宿失败")}finally{De.value=!1}var a,l}},_a=a=>{Y.confirm("确定要取消该入住申请吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await(l=a.id,t="用户主动取消",e.put(`/check-in/${l}/cancel`,null,{params:{reason:t}})),T.success("申请取消成功"),oa(),na()}catch(u){T.error("申请取消失败")}var l,t})},ya=()=>{Ye.value.length&&Y.confirm(`确定要批量通过选中的 ${Ye.value.length} 条入住申请吗？`,"批量通过确认",{confirmButtonText:"确定通过",cancelButtonText:"取消",type:"success",dangerouslyUseHTMLString:!0,message:`\n      <div style="color: #67C23A; font-size: 16px; margin-bottom: 10px;">\n        <i class="el-icon-success"></i> 确定批量通过以下入住申请？\n      </div>\n      <div style="color: #909399; font-size: 14px;">\n        共 ${Ye.value.length} 条记录，通过后将自动分配宿舍\n      </div>\n    `}).then(async()=>{try{const e={ids:Ye.value.map(e=>e.id),status:2,approvalRemark:"批量审批通过"};await ee(e),T.success("批量通过成功"),oa(),na()}catch(e){T.error("批量通过失败")}}).catch(()=>{T.info("已取消批量通过操作")})},ka=()=>{Ye.value.length&&Y.prompt("请输入拒绝原因","批量拒绝确认",{confirmButtonText:"确定拒绝",cancelButtonText:"取消",type:"warning",inputPlaceholder:"请输入拒绝原因",inputValidator:e=>!(!e||!e.trim())||"拒绝原因不能为空",dangerouslyUseHTMLString:!0,message:`\n      <div style="color: #F56C6C; font-size: 16px; margin-bottom: 10px;">\n        <i class="el-icon-warning"></i> 确定要拒绝以下入住申请？\n      </div>\n      <div style="color: #909399; font-size: 14px; margin-bottom: 15px;">\n        共 ${Ye.value.length} 条记录，拒绝后将无法恢复\n      </div>\n    `}).then(async({value:e})=>{try{const a={ids:Ye.value.map(e=>e.id),status:4,approvalRemark:`批量拒绝：${e}`};await ee(a),T.success("批量拒绝成功"),oa(),na()}catch(a){T.error("批量拒绝失败")}}).catch(()=>{T.info("已取消批量拒绝操作")})},wa=()=>{Oe.value=!0,da(""),sa()};return q(()=>{oa(),na()}),(e,a)=>{const B=t,S=o,q=i,ee=p,sa=v,Va=f,xa=m,Na=h,Ca=c,Ia=k,Ra=w,ja=V,za=$,Da=C,Ua=I,Ta=R,Ya=z,$a=j,Ma=U,Ba=D,Sa=y;return X(),F("div",ae,[L("div",le,[L("div",te,[L("h2",null,[O(B,null,{default:E(()=>[O(G(l))]),_:1}),a[25]||(a[25]=P(" 入住分配管理 ",-1))]),a[26]||(a[26]=L("p",null,"管理学生入住申请、审批、分配和退宿等全流程",-1))]),L("div",ue,[O(S,{type:"primary",onClick:wa},{default:E(()=>[O(B,null,{default:E(()=>[O(G(u))]),_:1}),a[27]||(a[27]=P(" 入住申请 ",-1))]),_:1}),O(S,{onClick:na},{default:E(()=>[O(B,null,{default:E(()=>[O(G(n))]),_:1}),a[28]||(a[28]=P(" 刷新统计 ",-1))]),_:1})])]),L("div",oe,[O(q,{shadow:"never",class:"stats-wrapper"},{default:E(()=>[L("div",ne,[L("div",de,[L("div",se,[O(B,null,{default:E(()=>[O(G(d))]),_:1})]),L("div",re,[L("div",ie,H(Me.value.applyingCount),1),a[29]||(a[29]=L("div",{class:"stats-label"},"申请中",-1))])]),L("div",ce,[L("div",ve,[O(B,null,{default:E(()=>[O(G(s))]),_:1})]),L("div",pe,[L("div",me,H(Me.value.checkedInCount),1),a[30]||(a[30]=L("div",{class:"stats-label"},"已入住",-1))])]),L("div",fe,[L("div",he,[O(B,null,{default:E(()=>[O(G(r))]),_:1})]),L("div",be,[L("div",ge,H(Me.value.rejectedCount),1),a[31]||(a[31]=L("div",{class:"stats-label"},"已拒绝",-1))])])])]),_:1})]),L("div",_e,[O(q,{shadow:"never"},{default:E(()=>[O(Ca,{model:Be,inline:"",class:"search-form"},{default:E(()=>[O(sa,{label:"学生姓名"},{default:E(()=>[O(ee,{modelValue:Be.studentName,"onUpdate:modelValue":a[0]||(a[0]=e=>Be.studentName=e),placeholder:"请输入学生姓名",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),O(sa,{label:"学号"},{default:E(()=>[O(ee,{modelValue:Be.studentNo,"onUpdate:modelValue":a[1]||(a[1]=e=>Be.studentNo=e),placeholder:"请输入学号",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),O(sa,{label:"宿舍号"},{default:E(()=>[O(ee,{modelValue:Be.roomNo,"onUpdate:modelValue":a[2]||(a[2]=e=>Be.roomNo=e),placeholder:"请输入宿舍号",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),O(sa,{label:"状态"},{default:E(()=>[O(xa,{modelValue:Be.status,"onUpdate:modelValue":a[3]||(a[3]=e=>Be.status=e),placeholder:"请选择状态",clearable:"",style:{width:"150px"}},{default:E(()=>[O(Va,{label:"申请中",value:1}),O(Va,{label:"已入住",value:2}),O(Va,{label:"已退宿",value:3}),O(Va,{label:"已拒绝",value:4})]),_:1},8,["modelValue"])]),_:1}),O(sa,{label:"入住日期"},{default:E(()=>[O(Na,{modelValue:qe.value,"onUpdate:modelValue":a[4]||(a[4]=e=>qe.value=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),O(sa,null,{default:E(()=>[O(S,{type:"primary",onClick:ia,loading:M.value},{default:E(()=>[O(B,null,{default:E(()=>[O(G(b))]),_:1}),a[32]||(a[32]=P(" 搜索 ",-1))]),_:1},8,["loading"]),O(S,{onClick:ca},{default:E(()=>[O(B,null,{default:E(()=>[O(G(g))]),_:1}),a[33]||(a[33]=P(" 重置 ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),L("div",ye,[O(q,{shadow:"never"},{default:E(()=>[L("div",ke,[L("div",we,[a[34]||(a[34]=L("span",null,"入住分配列表",-1)),L("span",Ve,"共 "+H(Se.total)+" 条记录",1)]),L("div",xe,[O(S,{type:"success",disabled:!Ye.value.length,onClick:ya},{default:E(()=>[O(B,null,{default:E(()=>[O(G(_))]),_:1}),a[35]||(a[35]=P(" 批量通过 ",-1))]),_:1},8,["disabled"]),O(S,{type:"danger",disabled:!Ye.value.length,onClick:ka},{default:E(()=>[O(B,null,{default:E(()=>[O(G(r))]),_:1}),a[36]||(a[36]=P(" 批量拒绝 ",-1))]),_:1},8,["disabled"])])]),A((X(),J(za,{data:Te.value,stripe:"",border:"",style:{width:"100%"},onSelectionChange:ma},{default:E(()=>[O(Ia,{type:"selection",width:"55"}),O(Ia,{prop:"name",label:"学生姓名",width:"100"}),O(Ia,{prop:"studentNo",label:"学号",width:"130"}),O(Ia,{prop:"studentGenderText",label:"性别",width:"80"}),O(Ia,{prop:"college",label:"学院",width:"120"}),O(Ia,{prop:"major",label:"专业",width:"120"}),O(Ia,{prop:"buildingName",label:"楼栋",width:"100"}),O(Ia,{prop:"roomNo",label:"宿舍号",width:"100"}),O(Ia,{prop:"bedNo",label:"床位号",width:"100"}),O(Ia,{prop:"checkInDate",label:"入住日期",width:"120"}),O(Ia,{prop:"statusText",label:"状态",width:"100",align:"center"},{default:E(({row:e})=>[O(Ra,{type:ua(e.status),effect:"light"},{default:E(()=>[P(H(e.statusText),1)]),_:2},1032,["type"])]),_:1}),O(Ia,{label:"操作",width:"240",fixed:"right"},{default:E(({row:e})=>[O(ja,null,{default:E(()=>[O(S,{size:"small",onClick:a=>(e=>{$e.value=e,He.value=!0})(e)},{default:E(()=>[O(B,null,{default:E(()=>[O(G(x))]),_:1}),a[37]||(a[37]=P(" 详情 ",-1))]),_:1},8,["onClick"]),1===e.status?(X(),J(S,{key:0,size:"small",type:"success",onClick:a=>(e=>{$e.value=e,Object.assign(Xe,{status:2,approvalRemark:""}),Pe.value=!0})(e)},{default:E(()=>[O(B,null,{default:E(()=>[O(G(N))]),_:1}),a[38]||(a[38]=P(" 审批通过 ",-1))]),_:1},8,["onClick"])):K("",!0),1===e.status?(X(),J(S,{key:1,size:"small",type:"danger",onClick:a=>(e=>{$e.value=e,Y.prompt("请输入拒绝原因","拒绝入住申请",{confirmButtonText:"确定拒绝",cancelButtonText:"取消",type:"warning",inputPlaceholder:"请输入拒绝原因",inputValidator:e=>!(!e||!e.trim())||"拒绝原因不能为空"}).then(async({value:e})=>{try{const a={id:$e.value.id,status:4,approvalRemark:e};await Z(a),T.success("拒绝成功"),oa(),na()}catch(a){T.error("拒绝失败")}}).catch(()=>{T.info("已取消拒绝操作")})})(e)},{default:E(()=>[O(B,null,{default:E(()=>[O(G(r))]),_:1}),a[39]||(a[39]=P(" 拒绝 ",-1))]),_:1},8,["onClick"])):K("",!0),0===e.status?(X(),J(S,{key:2,size:"small",type:"danger",onClick:a=>_a(e)},{default:E(()=>[O(B,null,{default:E(()=>[O(G(r))]),_:1}),a[40]||(a[40]=P(" 取消 ",-1))]),_:1},8,["onClick"])):K("",!0)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Sa,M.value]]),L("div",Ne,[O(Da,{"current-page":Se.current,"onUpdate:currentPage":a[5]||(a[5]=e=>Se.current=e),"page-size":Se.size,"onUpdate:pageSize":a[6]||(a[6]=e=>Se.size=e),"page-sizes":[10,20,50,100],total:Se.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:va,onCurrentChange:pa},null,8,["current-page","page-size","total"])])]),_:1})]),O(Ta,{modelValue:Oe.value,"onUpdate:modelValue":a[12]||(a[12]=e=>Oe.value=e),title:"提交入住申请",width:"600px","close-on-click-modal":!1},{footer:E(()=>[L("span",Ce,[O(S,{onClick:a[11]||(a[11]=e=>Oe.value=!1)},{default:E(()=>[...a[41]||(a[41]=[P("取消",-1)])]),_:1}),O(S,{type:"primary",onClick:fa,loading:De.value},{default:E(()=>[...a[42]||(a[42]=[P(" 提交申请 ",-1)])]),_:1},8,["loading"])])]),default:E(()=>[O(Ca,{model:We,rules:la,ref_key:"applicationFormRef",ref:Ae,"label-width":"100px"},{default:E(()=>[O(sa,{label:"学生",prop:"studentId"},{default:E(()=>[O(xa,{modelValue:We.studentId,"onUpdate:modelValue":a[7]||(a[7]=e=>We.studentId=e),placeholder:"请选择学生",filterable:"",remote:"","remote-method":da,loading:Ue.value,style:{width:"100%"}},{default:E(()=>[(X(!0),F(Q,null,W(aa.value,e=>(X(),J(Va,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),O(sa,{label:"入住日期",prop:"checkInDate"},{default:E(()=>[O(Na,{modelValue:We.checkInDate,"onUpdate:modelValue":a[8]||(a[8]=e=>We.checkInDate=e),type:"date",placeholder:"请选择入住日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),O(sa,{label:"床位选择",prop:"bedId"},{default:E(()=>[O(Ua,{modelValue:Fe.value,"onUpdate:modelValue":a[9]||(a[9]=e=>Fe.value=e),placeholder:"请选择宿舍-床位",options:Le.value,props:{expandTrigger:"hover",value:"value",label:"label",children:"children"},clearable:"",style:{width:"100%"},onChange:ra},null,8,["modelValue","options"])]),_:1}),O(sa,{label:"申请原因"},{default:E(()=>[O(ee,{modelValue:We.applicationReason,"onUpdate:modelValue":a[10]||(a[10]=e=>We.applicationReason=e),type:"textarea",rows:3,placeholder:"请输入申请原因"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),O(Ta,{modelValue:Pe.value,"onUpdate:modelValue":a[16]||(a[16]=e=>Pe.value=e),title:"审批入住申请",width:"500px","close-on-click-modal":!1},{footer:E(()=>[L("span",Ie,[O(S,{onClick:a[15]||(a[15]=e=>Pe.value=!1)},{default:E(()=>[...a[45]||(a[45]=[P("取消",-1)])]),_:1}),O(S,{type:"primary",onClick:ha,loading:De.value},{default:E(()=>[...a[46]||(a[46]=[P(" 确认审批 ",-1)])]),_:1},8,["loading"])])]),default:E(()=>[O(Ca,{model:Xe,rules:ta,ref_key:"approvalFormRef",ref:Je,"label-width":"100px"},{default:E(()=>[O(sa,{label:"审批结果",prop:"status"},{default:E(()=>[O($a,{modelValue:Xe.status,"onUpdate:modelValue":a[13]||(a[13]=e=>Xe.status=e)},{default:E(()=>[O(Ya,{value:2},{default:E(()=>[...a[43]||(a[43]=[P("通过",-1)])]),_:1}),O(Ya,{value:4},{default:E(()=>[...a[44]||(a[44]=[P("拒绝",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),O(sa,{label:"审批备注"},{default:E(()=>[O(ee,{modelValue:Xe.approvalRemark,"onUpdate:modelValue":a[14]||(a[14]=e=>Xe.approvalRemark=e),type:"textarea",rows:3,placeholder:"请输入审批备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),O(Ta,{modelValue:Ee.value,"onUpdate:modelValue":a[19]||(a[19]=e=>Ee.value=e),title:"审批通过入住申请",width:"500px","close-on-click-modal":!1},{footer:E(()=>[L("span",Re,[O(S,{onClick:a[18]||(a[18]=e=>Ee.value=!1)},{default:E(()=>[...a[47]||(a[47]=[P("取消",-1)])]),_:1}),O(S,{type:"success",onClick:ba,loading:De.value},{default:E(()=>[...a[48]||(a[48]=[P(" 确认审批通过 ",-1)])]),_:1},8,["loading"])])]),default:E(()=>[O(Ca,{model:Ze,ref_key:"assignFormRef",ref:Ke,"label-width":"100px"},{default:E(()=>[O(sa,{label:"学生"},{default:E(()=>{var e;return[O(ee,{value:null==(e=$e.value)?void 0:e.studentName,disabled:""},null,8,["value"])]}),_:1}),O(sa,{label:"学号"},{default:E(()=>{var e;return[O(ee,{value:null==(e=$e.value)?void 0:e.studentNo,disabled:""},null,8,["value"])]}),_:1}),O(sa,{label:"审批备注"},{default:E(()=>[O(ee,{modelValue:Ze.approvalRemark,"onUpdate:modelValue":a[17]||(a[17]=e=>Ze.approvalRemark=e),type:"textarea",rows:3,placeholder:"请输入审批备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),O(Ta,{modelValue:Ge.value,"onUpdate:modelValue":a[22]||(a[22]=e=>Ge.value=e),title:"退宿处理",width:"500px","close-on-click-modal":!1},{footer:E(()=>[L("span",je,[O(S,{onClick:a[21]||(a[21]=e=>Ge.value=!1)},{default:E(()=>[...a[49]||(a[49]=[P("取消",-1)])]),_:1}),O(S,{type:"warning",onClick:ga,loading:De.value},{default:E(()=>[...a[50]||(a[50]=[P(" 确认退宿 ",-1)])]),_:1},8,["loading"])])]),default:E(()=>[O(Ca,{model:ea,ref_key:"checkoutFormRef",ref:Qe,"label-width":"100px"},{default:E(()=>[O(sa,{label:"学生"},{default:E(()=>{var e;return[O(ee,{value:null==(e=$e.value)?void 0:e.studentName,disabled:""},null,8,["value"])]}),_:1}),O(sa,{label:"当前宿舍"},{default:E(()=>{var e,a;return[O(ee,{value:`${null==(e=$e.value)?void 0:e.buildingName} ${null==(a=$e.value)?void 0:a.roomNo}`,disabled:""},null,8,["value"])]}),_:1}),O(sa,{label:"当前床位"},{default:E(()=>{var e;return[O(ee,{value:null==(e=$e.value)?void 0:e.bedNo,disabled:""},null,8,["value"])]}),_:1}),O(sa,{label:"退宿原因"},{default:E(()=>[O(ee,{modelValue:ea.checkoutReason,"onUpdate:modelValue":a[20]||(a[20]=e=>ea.checkoutReason=e),type:"textarea",rows:3,placeholder:"请输入退宿原因"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),O(Ta,{modelValue:He.value,"onUpdate:modelValue":a[24]||(a[24]=e=>He.value=e),title:"入住详情",width:"800px"},{footer:E(()=>[L("span",ze,[O(S,{onClick:a[23]||(a[23]=e=>He.value=!1)},{default:E(()=>[...a[51]||(a[51]=[P("关闭",-1)])]),_:1})])]),default:E(()=>[O(Ba,{column:2,border:""},{default:E(()=>[O(Ma,{label:"学生姓名"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.studentName),1)]}),_:1}),O(Ma,{label:"学号"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.studentNo),1)]}),_:1}),O(Ma,{label:"性别"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.studentGenderText),1)]}),_:1}),O(Ma,{label:"学院"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.college),1)]}),_:1}),O(Ma,{label:"专业"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.major),1)]}),_:1}),O(Ma,{label:"班级"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.className),1)]}),_:1}),O(Ma,{label:"楼栋"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.buildingName),1)]}),_:1}),O(Ma,{label:"宿舍号"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.roomNo),1)]}),_:1}),O(Ma,{label:"床位号"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.bedNo),1)]}),_:1}),O(Ma,{label:"入住日期"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.checkInDate),1)]}),_:1}),O(Ma,{label:"预计退宿日期"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.expectedCheckoutDate)||"未设置"),1)]}),_:1}),O(Ma,{label:"实际退宿日期"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.actualCheckoutDate)||"未退宿"),1)]}),_:1}),O(Ma,{label:"状态"},{default:E(()=>{var e;return[O(Ra,{type:ua(null==(e=$e.value)?void 0:e.status)},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.statusText),1)]}),_:1},8,["type"])]}),_:1}),O(Ma,{label:"申请原因"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.applicationReason)||"无"),1)]}),_:1}),O(Ma,{label:"审批人"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.approver)||"未审批"),1)]}),_:1}),O(Ma,{label:"审批时间"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.approvalTime)||"未审批"),1)]}),_:1}),O(Ma,{label:"审批备注"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.approvalRemark)||"无"),1)]}),_:1}),O(Ma,{label:"退宿原因"},{default:E(()=>{var e;return[P(H((null==(e=$e.value)?void 0:e.checkoutReason)||"无"),1)]}),_:1}),O(Ma,{label:"创建时间"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.createTime),1)]}),_:1}),O(Ma,{label:"更新时间"},{default:E(()=>{var e;return[P(H(null==(e=$e.value)?void 0:e.updateTime),1)]}),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-001a44bf"]]);export{De as default};
