EdgeOne 部署检查清单
====================================

## 🎯 准备阶段

### 基础准备
- [ ] 域名已注册并备案（中国大陆）
- [ ] 域名 DNS 管理权限
- [ ] 腾讯云账户已开通
- [ ] EdgeOne 服务已激活
- [ ] 项目代码已提交版本控制

### 技术准备
- [ ] 后端服务已部署到生产环境
- [ ] API 服务可通过公网访问
- [ ] SSL 证书已配置（后端）
- [ ] 数据库连接正常
- [ ] Redis 缓存服务正常

## 🔧 部署前检查

### 文件完整性检查
- [ ] 前端构建文件完整
  - [ ] index.html 存在
  - [ ] assets 目录存在且包含所有静态文件
  - [ ] favicon.ico 存在
  - [ ] site.webmanifest 存在
  - [ ] Logo 图片文件完整

### 配置文件验证
- [ ] edgeone-final.json 配置正确
  - [ ] 域名配置正确
  - [ ] API 地址配置正确
  - [ ] 缓存策略合理
  - [ ] 安全头配置完整

### 环境变量确认
- [ ] 后端 API 地址: https://api.dormitory.yourdomain.com
- [ ] 前端域名: https://dormitory.yourdomain.com
- [ ] JWT 密钥已更新
- [ ] 数据库连接信息已配置
- [ ] Redis 连接信息已配置

## 📤 文件上传

### 上传检查
- [ ] 所有静态文件已上传到 EdgeOne
  - [ ] HTML 文件上传完成
  - [ ] CSS 文件上传完成
  - [ ] JavaScript 文件上传完成
  - [ ] 图片资源上传完成
  - [ ] 其他静态资源上传完成

### 文件路径验证
- [ ] index.html 可通过根路径访问
- [ ] assets 目录下文件路径正确
- [ ] 所有相对路径链接有效
- [ ] 不存在 404 错误

## 🌐 域名配置

### DNS 设置
- [ ] CNAME 记录已配置
  - [ ] 主域名解析正确
  - [ ] 解析指向 EdgeOne 提供的地址
  - [ ] TTL 值合理（建议 600 秒）

### 域名验证
- [ ] 域名所有权已验证
- [ ] SSL 证书已生效
- [ ] HTTPS 强制跳转已启用
- [ ] HTTP/2 协议已启用

## ⚙️ EdgeOne 配置

### 缓存策略
- [ ] 静态资源缓存规则已配置
  - [ ] JS/CSS 文件: 1年缓存
  - [ ] 图片文件: 30天缓存
  - [ ] HTML 文件: 1小时缓存
  - [ ] 浏览器缓存已启用
  - [ ] 压缩已启用

### 安全配置
- [ ] 安全头已配置
  - [ ] X-Frame-Options: DENY
  - [ ] X-Content-Type-Options: nosniff
  - [ ] X-XSS-Protection: 1; mode=block
  - [ ] Strict-Transport-Security 配置
  - [ ] Content-Security-Policy 配置
  - [ ] Referrer-Policy 配置

### API 代理
- [ ] API 代理规则已配置
  - [ ] /api/* 路径代理正确
  - [ ] 后端服务地址正确
  - [ ] 超时时间设置合理（30秒）
  - [ ] 重试次数配置（3次）
  - [ ] 请求头转发正确

## ✅ 功能测试

### 基础功能
- [ ] 网站首页正常访问
- [ ] 所有页面路由正常工作
  - [ ] 登录页面: /login
  - [ ] 仪表盘: /dashboard
  - [ ] 学生管理: /students
  - [ ] 宿舍管理: /dormitories
  - [ ] 入住管理: /checkin
  - [ ] 费用管理: /fee
  - [ ] 系统管理: /settings

### 用户交互
- [ ] 登录功能正常
  - [ ] 用户名密码验证
  - [ ] JWT Token 获取
  - [ ] 自动登录保持
- [ ] 主要业务功能
  - [ ] 学生信息管理
  - [ ] 宿舍分配管理
  - [ ] 入住登记管理
  - [ ] 费用收缴管理
  - [ ] 统计报表查看

### API 调用
- [ ] 所有 API 接口正常响应
  - [ ] GET 请求正常
  - [ ] POST 请求正常
  - [ ] PUT 请求正常
  - [ ] DELETE 请求正常
- [ ] 错误处理正确
  - [ ] 401 未授权处理
  - [ ] 404 资源不存在处理
  - [ ] 500 服务器错误处理

## 📱 兼容性测试

### 浏览器兼容性
- [ ] Chrome (最新版本)
- [ ] Firefox (最新版本)
- [ ] Safari (最新版本)
- [ ] Edge (最新版本)
- [ ] 移动端浏览器
  - [ ] iOS Safari
  - [ ] Android Chrome

### 响应式设计
- [ ] 桌面端显示正常 (≥1200px)
- [ ] 平板端显示正常 (768px-1199px)
- [ ] 移动端显示正常 (≤767px)
- [ ] 触摸操作正常

## ⚡ 性能验证

### 加载速度
- [ ] 首页加载时间 < 3秒
- [ ] 主要页面加载时间 < 2秒
- [ ] 静态资源加载正常
- [ ] API 响应时间 < 1秒

### 优化效果
- [ ] Gzip 压缩生效
- [ ] 缓存策略工作正常
- [ ] HTTP/2 多路复用生效
- [ ] 图片资源优化合理

## 🔒 安全验证

### HTTPS 配置
- [ ] SSL 证书有效
- [ ] 证书链完整
- [ ] 混合内容检查通过
- [ ] HTTP 强制跳转工作

### 安全头检查
- [ ] 所有安全头已配置
- [ ] CSP 策略有效
- [ ] XSS 防护启用
- [ ] 点击劫持防护启用

### 数据安全
- [ ] 敏感信息不在前端暴露
- [ ] API 请求认证正确
- [ ] 用户权限控制有效
- [ ] 输入验证和过滤

## 📊 监控设置

### 基础监控
- [ ] 访问日志收集启用
- [ ] 错误日志监控启用
- [ ] 性能指标监控启用
- [ ] 流量使用监控启用

### 告警配置
- [ ] 网站不可用告警
- [ ] 错误率过高告警
- [ ] 响应时间过长告警
- [ ] 流量异常告警

## 📋 部署记录

### 部署信息
- [ ] 部署时间: _______________
- [ ] 部署人员: _______________
- [ ] 版本号: 1.0.0
- [ ] 构建时间: 2025-11-16 14:29:48

### 验证结果
- [ ] 所有功能测试通过
- [ ] 性能指标达标
- [ ] 安全配置有效
- [ ] 用户验收通过

## 🔄 后续维护

### 定期检查项目
- [ ] 每月检查证书有效期
- [ ] 每周检查错误日志
- [ ] 每天监控系统可用性
- [ ] 定期更新依赖库

### 备份策略
- [ ] 配置文件备份
- [ ] 数据库定期备份
- [ ] 版本控制标签管理
- [ ] 灾难恢复预案

---

**部署状态**: _______________
**部署人员**: _______________
**完成时间**: _______________
**备注**: _______________

**重要提醒**:
1. 请确保完成所有检查项后再正式上线
2. 保留此检查清单作为部署文档
3. 定期回顾和更新部署流程